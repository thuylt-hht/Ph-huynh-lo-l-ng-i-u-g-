<!doctype html>
<html lang="vi">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>AI H∆∞·ªõng nghi·ªáp cho Ph·ª• huynh</title>

<style>
  :root{
    --bg1:#0f172a; --bg2:#1e293b; --card:rgba(255,255,255,.10);
    --text:#ffffff; --muted:rgba(255,255,255,.82);
    --accent:#00e5ff; --danger:#ff4d6d;
    --border:rgba(255,255,255,.18);
  }
  body{
    margin:0;
    font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;
    color:var(--text);
    background:
      radial-gradient(1200px 600px at 15% 10%, rgba(0,229,255,.25), transparent 60%),
      radial-gradient(900px 500px at 80% 20%, rgba(255,77,109,.22), transparent 60%),
      radial-gradient(900px 600px at 55% 95%, rgba(139,92,246,.22), transparent 60%),
      linear-gradient(135deg, var(--bg1), var(--bg2));
  }
  .container{max-width:980px;margin:auto;padding:22px;}
  .card{
    background:var(--card);
    border:1px solid var(--border);
    border-radius:22px;
    padding:22px;
    box-shadow:0 22px 44px rgba(0,0,0,.35);
    backdrop-filter: blur(10px);
  }
  h1{margin:0 0 6px;font-size:28px;letter-spacing:.2px;}
  .sub{margin:0 0 14px;color:var(--muted);line-height:1.6;}
  .grid{display:grid;grid-template-columns:1fr;gap:12px;}
  @media (min-width:720px){ .grid{grid-template-columns:1fr 1fr;} }

  label{font-weight:700;font-size:14px;color:var(--muted);}
  input{
    width:100%;
    margin-top:6px;
    padding:12px 12px;
    border-radius:14px;
    border:1px solid var(--border);
    background:rgba(0,0,0,.20);
    color:var(--text);
    font-size:16px;
    outline:none;
  }
  input::placeholder{color:rgba(255,255,255,.55)}
  .hint{font-size:12px;color:rgba(255,255,255,.68);margin-top:6px}

  .progress{
    height:12px;background:rgba(255,255,255,.18);
    border-radius:999px;overflow:hidden;margin:14px 0 10px;
  }
  .progress > div{
    height:100%;width:0%;
    background:linear-gradient(90deg, #00e5ff, #8b5cf6, #ff4d6d);
    transition:width .25s ease;
  }
  .step{color:var(--muted);font-size:14px;margin:0 0 10px}

  .qtitle{font-size:20px;font-weight:800;margin:10px 0 10px;line-height:1.3}
  .options{display:grid;gap:12px}
  .option{
    padding:16px 18px;
    border-radius:16px;
    border:1px solid rgba(255,255,255,.14);
    cursor:pointer;
    font-size:18px;
    font-weight:800;
    line-height:1.25;
    color:#0b1020;
    user-select:none;
    transition:transform .12s ease, filter .12s ease;
  }
  /* m√†u b·∫Øt m·∫Øt, t·ª± thay ƒë·ªïi theo th·ª© t·ª± (linh ho·∫°t s·ªë ƒë√°p √°n) */
  .option:nth-child(6n+1){background:linear-gradient(135deg,#ffcc00,#ff5f6d);}
  .option:nth-child(6n+2){background:linear-gradient(135deg,#00e5ff,#00c853);}
  .option:nth-child(6n+3){background:linear-gradient(135deg,#8b5cf6,#ec4899);}
  .option:nth-child(6n+4){background:linear-gradient(135deg,#ff7a18,#af002d);}
  .option:nth-child(6n+5){background:linear-gradient(135deg,#00c6ff,#0072ff);}
  .option:nth-child(6n+6){background:linear-gradient(135deg,#a8ff78,#78ffd6);}
  .option:hover{transform:scale(1.02);filter:brightness(1.05);}

  .btnRow{display:flex;gap:10px;flex-wrap:wrap;margin-top:14px}
  button{
    border:none;border-radius:14px;
    padding:12px 16px;font-size:16px;font-weight:800;
    cursor:pointer;
  }
  .primary{
    background:linear-gradient(90deg,#00e5ff,#8b5cf6);
    color:#081024;
  }
  .secondary{
    background:rgba(255,255,255,.14);
    color:var(--text);
    border:1px solid var(--border);
  }
  .error{
    margin-top:10px;
    padding:10px 12px;
    border-radius:14px;
    background:rgba(255,77,109,.16);
    border:1px solid rgba(255,77,109,.35);
    color:#ffd6de;
    font-weight:700;
    display:none;
  }

  .result{
    text-align:center;
    padding:12px 0 6px;
  }
  .result h2{
    font-size:36px;
    margin:10px 0 8px;
    color:var(--accent);
    text-shadow:0 6px 18px rgba(0,229,255,.20);
  }
  .resultBox{
    margin-top:12px;
    border-radius:18px;
    background:rgba(0,0,0,.18);
    border:1px solid var(--border);
    padding:14px;
    text-align:left;
    color:var(--muted);
    line-height:1.7;
  }
  .tag{
    display:inline-block;
    padding:6px 10px;
    border-radius:999px;
    background:rgba(0,229,255,.14);
    border:1px solid rgba(0,229,255,.30);
    color:#c8f7ff;
    font-weight:800;
    margin-right:8px;
    margin-top:6px;
  }
</style>
</head>

<body>
<div class="container">
  <div class="card">
    <h1>üë®‚Äçüë©‚Äçüëß AI H∆∞·ªõng nghi·ªáp cho Ph·ª• huynh</h1>
    <p class="sub">
      Ph·ª• huynh nh·∫≠p th√¥ng tin ‚Üí tr·∫£ l·ªùi nhanh <b>8 c√¢u</b>.  
      AI s·∫Ω g·ª£i √Ω <b>ng√†nh ph√π h·ª£p nh·∫•t</b> cho con.
    </p>

    <!-- FORM PH·ª§ HUYNH -->
    <div id="formArea">
      <div class="grid">
        <div>
          <label>H·ªç v√† t√™n ph·ª• huynh (b·∫Øt bu·ªôc)</label>
          <input id="parentName" placeholder="VD: Nguy·ªÖn Th·ªã A" maxlength="60">
          <div class="hint">Vui l√≤ng nh·∫≠p ƒë√∫ng h·ªç t√™n ƒë·ªÉ thu·∫≠n ti·ªán t∆∞ v·∫•n.</div>
        </div>
        <div>
          <label>S·ªë ƒëi·ªán tho·∫°i (b·∫Øt bu·ªôc)</label>
          <input id="parentPhone" placeholder="VD: 09xxxxxxxx" inputmode="tel" maxlength="15">
          <div class="hint">Ch·ªâ d√πng ƒë·ªÉ li√™n h·ªá t∆∞ v·∫•n (n·∫øu ph·ª• huynh c·∫ßn).</div>
        </div>
      </div>

      <div class="btnRow">
        <button class="primary" id="startBtn">B·∫Øt ƒë·∫ßu kh·∫£o s√°t</button>
        <button class="secondary" id="demoBtn" type="button">ƒêi·ªÅn th·ª≠ nhanh</button>
      </div>

      <div class="error" id="errBox"></div>
    </div>

    <!-- QUIZ -->
    <div id="quizArea" style="display:none;">
      <div class="progress"><div id="bar"></div></div>
      <div class="step" id="stepText"></div>
      <div id="app"></div>
      <div class="btnRow">
        <button class="secondary" id="restartBtn" type="button">L√†m l·∫°i</button>
      </div>
    </div>

  </div>
</div>

<script>
/* =========================
   1) C√ÇU H·ªéI (8 C√ÇU) ‚Äì ƒê√ÅP √ÅN LINH HO·∫†T
   M·ªói ƒë√°p √°n: ["N·ªôi dung", "M√£ ng√†nh"]
   M√£ ng√†nh: NN, IT, CK, DT, CS, TY
   B·∫°n mu·ªën th√™m/b·ªõt ƒë√°p √°n ‚Üí ch·ªâ vi·ªác s·ª≠a m·∫£ng a[]
========================= */
const questions = [
  {
    q:"1. Con b·∫°n th√≠ch ho·∫°t ƒë·ªông n√†o nh·∫•t?",
    a:[
      ["Giao ti·∫øp, ngo·∫°i ng·ªØ üåç","NN"],
      ["M√°y t√≠nh, c√¥ng ngh·ªá üíª","IT"],
      ["S·ª≠a ch·ªØa, l·∫Øp r√°p üîß","CK"],
      ["Thi·∫øt b·ªã ƒëi·ªán ‚Äì m·∫°ch ‚ö°","DT"],
      ["L√†m ƒë·∫πp, th·∫©m m·ªπ üíÑ","CS"],
      ["ChƒÉm s√≥c ƒë·ªông v·∫≠t üê∂","TY"]
    ]
  },
  {
    q:"2. Con b·∫°n h·ªçc t·ªët nh·∫•t theo c√°ch n√†o?",
    a:[
      ["H·ªçc qua th·ª±c h√†nh (l√†m tr·ª±c ti·∫øp)","CK"],
      ["H·ªçc qua m√°y t√≠nh / ph·∫ßn m·ªÅm","IT"],
      ["H·ªçc qua giao ti·∫øp / thuy·∫øt tr√¨nh","NN"],
      ["H·ªçc qua th√≠ nghi·ªám ‚Äì thi·∫øt b·ªã","DT"]
    ]
  },
  {
    q:"3. ƒêi·ªÉm m·∫°nh n·ªïi b·∫≠t nh·∫•t c·ªßa con b·∫°n?",
    a:[
      ["Kh√©o tay, th√≠ch s·ª≠a ƒë·ªì","CK"],
      ["T∆∞ duy logic, th√≠ch gi·∫£i b√†i","IT"],
      ["Giao ti·∫øp t·ª± tin","NN"],
      ["C·∫©n th·∫≠n, th√≠ch k·ªπ thu·∫≠t","DT"],
      ["C√≥ gu th·∫©m m·ªπ","CS"],
      ["Y√™u ƒë·ªông v·∫≠t, ki√™n nh·∫´n","TY"]
    ]
  },
  {
    q:"4. Con b·∫°n th√≠ch l√†m vi·ªác v·ªõi ƒë·ªëi t∆∞·ª£ng n√†o?",
    a:[
      ["Con ng∆∞·ªùi, kh√°ch h√†ng","NN"],
      ["M√°y t√≠nh, d·ªØ li·ªáu","IT"],
      ["M√°y m√≥c, d·ª•ng c·ª•","CK"],
      ["Thi·∫øt b·ªã ƒëi·ªán, linh ki·ªán","DT"],
      ["Kh√°ch h√†ng l√†m ƒë·∫πp","CS"],
      ["ƒê·ªông v·∫≠t","TY"]
    ]
  },
  {
    q:"5. Ph·ª• huynh mong mu·ªën ƒëi·ªÅu g√¨ nh·∫•t?",
    a:[
      ["C√≥ vi·ªác l√†m s·ªõm","CK"],
      ["Thu nh·∫≠p ·ªïn ƒë·ªãnh","DT"],
      ["Ngh·ªÅ c√≥ th·ªÉ ph√°t tri·ªÉn l√¢u d√†i","IT"],
      ["C√¥ng vi·ªác giao ti·∫øp, nƒÉng ƒë·ªông","NN"]
    ]
  },
  {
    q:"6. Con b·∫°n th√≠ch m√¥i tr∆∞·ªùng h·ªçc t·∫≠p n√†o?",
    a:[
      ["Ph√≤ng m√°y / c√¥ng ngh·ªá","IT"],
      ["X∆∞·ªüng th·ª±c h√†nh","CK"],
      ["Ph√≤ng thi·∫øt b·ªã ‚Äì k·ªπ thu·∫≠t","DT"],
      ["Ph√≤ng th·ª±c h√†nh l√†m ƒë·∫πp","CS"],
      ["Ph√≤ng kh√°m / khu chƒÉm s√≥c th√∫","TY"],
      ["M√¥i tr∆∞·ªùng giao ti·∫øp","NN"]
    ]
  },
  {
    q:"7. Con b·∫°n th∆∞·ªùng t·ª± tin nh·∫•t khi‚Ä¶",
    a:[
      ["N√≥i chuy·ªán, giao ti·∫øp","NN"],
      ["S·ª≠ d·ª•ng m√°y t√≠nh","IT"],
      ["S·ª≠a ch·ªØa ‚Äì l·∫Øp r√°p","CK"],
      ["L√†m vi·ªác v·ªõi ƒëi·ªán/thi·∫øt b·ªã","DT"],
      ["L√†m ƒë·∫πp cho ng∆∞·ªùi kh√°c","CS"],
      ["ChƒÉm s√≥c th√∫ c∆∞ng","TY"]
    ]
  },
  {
    q:"8. Con b·∫°n mu·ªën c√¥ng vi·ªác sau n√†y nh∆∞ th·∫ø n√†o?",
    a:[
      ["NƒÉng ƒë·ªông, giao ti·∫øp nhi·ªÅu","NN"],
      ["·ªîn ƒë·ªãnh, d√πng tr√≠ √≥c","IT"],
      ["Th·ª±c h√†nh nhi·ªÅu, tay ngh·ªÅ","CK"],
      ["K·ªπ thu·∫≠t ch√≠nh x√°c","DT"],
      ["S√°ng t·∫°o, th·∫©m m·ªπ","CS"],
      ["ChƒÉm s√≥c, y t·∫ø","TY"]
    ]
  }
];

/* =========================
   2) MAP NG√ÄNH + L√ù DO (ƒë·ªÉ hi·ªán k·∫øt qu·∫£)
========================= */
const map = {
  NN: "NGO·∫†I NG·ªÆ",
  IT: "C√îNG NGH·ªÜ TH√îNG TIN",
  CK: "C∆† KH√ç",
  DT: "ƒêI·ªÜN ‚Äì ƒêI·ªÜN T·ª¨",
  CS: "CHƒÇM S√ìC S·∫ÆC ƒê·∫∏P",
  TY: "D·ªäCH V·ª§ TH√ö Y"
};
const reason = {
  NN: "Ph√π h·ª£p v·ªõi ng∆∞·ªùi th√≠ch giao ti·∫øp, ng√¥n ng·ªØ v√† m√¥i tr∆∞·ªùng nƒÉng ƒë·ªông.",
  IT: "Ph√π h·ª£p v·ªõi ng∆∞·ªùi th√≠ch m√°y t√≠nh, c√¥ng ngh·ªá v√† t∆∞ duy logic.",
  CK: "Ph√π h·ª£p v·ªõi ng∆∞·ªùi thi√™n v·ªÅ th·ª±c h√†nh, kh√©o tay, th√≠ch m√°y m√≥c.",
  DT: "Ph√π h·ª£p v·ªõi ng∆∞·ªùi th√≠ch k·ªπ thu·∫≠t, thi·∫øt b·ªã ƒëi·ªán ‚Äì linh ki·ªán, t√≠nh c·∫©n th·∫≠n.",
  CS: "Ph√π h·ª£p v·ªõi ng∆∞·ªùi c√≥ gu th·∫©m m·ªπ, th√≠ch l√†m ƒë·∫πp v√† chƒÉm s√≥c kh√°ch h√†ng.",
  TY: "Ph√π h·ª£p v·ªõi ng∆∞·ªùi y√™u ƒë·ªông v·∫≠t, ki√™n nh·∫´n, th√≠ch chƒÉm s√≥c v√† y t·∫ø th√∫."
};

/* =========================
   3) STATE
========================= */
let idx = 0;
let score = {NN:0, IT:0, CK:0, DT:0, CS:0, TY:0};
let parentName = "";
let parentPhone = "";

/* =========================
   4) DOM
========================= */
const formArea = document.getElementById("formArea");
const quizArea = document.getElementById("quizArea");
const app = document.getElementById("app");
const bar = document.getElementById("bar");
const stepText = document.getElementById("stepText");
const errBox = document.getElementById("errBox");

const nameInput = document.getElementById("parentName");
const phoneInput = document.getElementById("parentPhone");
document.getElementById("startBtn").addEventListener("click", start);
document.getElementById("demoBtn").addEventListener("click", demoFill);
document.getElementById("restartBtn").addEventListener("click", resetAll);

/* =========================
   5) VALIDATION
========================= */
function showError(msg){
  errBox.style.display = "block";
  errBox.textContent = "‚ö†Ô∏è " + msg;
}
function hideError(){
  errBox.style.display = "none";
  errBox.textContent = "";
}
function normalizePhone(s){
  return String(s || "").replace(/[^\d]/g, "");
}
function isValidPhoneVN(s){
  const p = normalizePhone(s);
  // ch·∫•p nh·∫≠n: 9-11 s·ªë; th∆∞·ªùng VN: 10 s·ªë b·∫Øt ƒë·∫ßu 0 ho·∫∑c 84 + 9 s·ªë
  if (p.length === 10 && p.startsWith("0")) return true;
  if (p.length === 11 && p.startsWith("84")) return true;
  if (p.length === 9) return true; // d·ª± ph√≤ng n·∫øu ng∆∞·ªùi nh·∫≠p thi·∫øu s·ªë 0 ƒë·∫ßu
  return false;
}

/* =========================
   6) FLOW
========================= */
function demoFill(){
  nameInput.value = "Nguy·ªÖn VƒÉn A";
  phoneInput.value = "09xxxxxxxx";
}

function start(){
  hideError();
  parentName = nameInput.value.trim();
  parentPhone = phoneInput.value.trim();

  if (!parentName) return showError("Vui l√≤ng nh·∫≠p h·ªç t√™n ph·ª• huynh.");
  if (parentName.length < 3) return showError("H·ªç t√™n qu√° ng·∫Øn, vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß.");
  if (!parentPhone) return showError("Vui l√≤ng nh·∫≠p s·ªë ƒëi·ªán tho·∫°i.");
  if (!isValidPhoneVN(parentPhone)) return showError("S·ªë ƒëi·ªán tho·∫°i ch∆∞a ƒë√∫ng ƒë·ªãnh d·∫°ng. VD: 09xxxxxxxx ho·∫∑c 84xxxxxxxxx");

  // reset quiz state
  idx = 0;
  score = {NN:0, IT:0, CK:0, DT:0, CS:0, TY:0};

  // chuy·ªÉn m√†n h√¨nh
  formArea.style.display = "none";
  quizArea.style.display = "block";

  renderQuestion();
}

function renderQuestion(){
  const q = questions[idx];
  stepText.textContent = `C√¢u ${idx + 1} / ${questions.length}`;
  bar.style.width = ((idx / questions.length) * 100) + "%";

  let html = `<div class="qtitle">${q.q}</div><div class="options">`;
  q.a.forEach(([text, code])=>{
    html += `<div class="option" onclick="pick('${code}')">${text}</div>`;
  });
  html += `</div>`;
  app.innerHTML = html;
}

function pick(code){
  if (score[code] !== undefined) score[code]++;

  idx++;
  if (idx < questions.length) renderQuestion();
  else finish();
}

function finish(){
  bar.style.width = "100%";

  // ch·ªçn ng√†nh c√≥ ƒëi·ªÉm cao nh·∫•t; n·∫øu h√≤a, ∆∞u ti√™n theo th·ª© t·ª± map keys
  const keys = Object.keys(score);
  let best = keys[0];
  keys.forEach(k=>{
    if (score[k] > score[best]) best = k;
  });

  // top2 (ƒë·ªÉ ph·ª• huynh th·∫•y "g·∫ßn ƒë√∫ng" - nh∆∞ng ch·ªâ HI·ªÜN 1 ng√†nh ch√≠nh)
  const sorted = keys.slice().sort((a,b)=>score[b]-score[a]);
  const top2 = sorted.slice(0,2);

  app.innerHTML = `
    <div class="result">
      <div class="tag">‚úÖ Ho√†n th√†nh</div>
      <div class="tag">üë®‚Äçüë©‚Äçüëß Ph·ª• huynh</div>

      <h2>üéØ ${map[best]}</h2>
      <p style="margin:0 0 10px;"><b>Ng√†nh ph√π h·ª£p nh·∫•t</b> v·ªõi con b·∫°n (theo kh·∫£o s√°t)</p>

      <div class="resultBox">
        <div><b>Th√¥ng tin ph·ª• huynh</b></div>
        <div>‚Ä¢ H·ªç t√™n: <b style="color:#fff">${escapeHtml(parentName)}</b></div>
        <div>‚Ä¢ SƒêT: <b style="color:#fff">${escapeHtml(parentPhone)}</b></div>

        <hr style="border:none;border-top:1px solid rgba(255,255,255,.18);margin:12px 0;">

        <div><b>V√¨ sao AI g·ª£i √Ω ng√†nh n√†y?</b></div>
        <div>‚Ä¢ ${reason[best]}</div>

        <div style="margin-top:10px;"><b>G·ª£i √Ω th√™m (tham kh·∫£o):</b></div>
        <div>‚Ä¢ Ng√†nh g·∫ßn ph√π h·ª£p: <b style="color:#fff">${map[top2[1]]}</b></div>

        <div style="margin-top:12px;">
          <span class="tag">üìå H·ªçc ngh·ªÅ c√≥ t∆∞∆°ng lai</span>
          <span class="tag">üìå C√≥ tay ngh·ªÅ ‚Üí c√≥ vi·ªác l√†m</span>
        </div>

        <div style="margin-top:12px;">
          <b>B∆∞·ªõc ti·∫øp theo:</b> M·ªùi ph·ª• huynh li√™n h·ªá nh√† tr∆∞·ªùng ƒë·ªÉ ƒë∆∞·ª£c t∆∞ v·∫•n l·ªô tr√¨nh h·ªçc ph√π h·ª£p.
        </div>
      </div>
    </div>
  `;
}

function resetAll(){
  // tr·ªü v·ªÅ form ban ƒë·∫ßu
  quizArea.style.display = "none";
  formArea.style.display = "block";
  bar.style.width = "0%";
  stepText.textContent = "";
  app.innerHTML = "";
  hideError();
}

function escapeHtml(str){
  return String(str)
    .replaceAll("&","&amp;")
    .replaceAll("<","&lt;")
    .replaceAll(">","&gt;")
    .replaceAll('"',"&quot;")
    .replaceAll("'","&#039;");
}
</script>
</body>
</html>
